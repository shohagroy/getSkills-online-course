if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("MessageRequestsBulkActionsButtons.re",["MessageRequestsBulkActionsButtons.bs"],(function(a,b,c,d,e,f){a=b("MessageRequestsBulkActionsButtons.bs").make;f.make=a}),null);
__d("MWJewelMessageRequestsDropdownHeader.react",["fbt","ix","CometCircleButton.react","CometTopNavListDropdown.react","FocusRegion.react","MWJewelDropdownHeaderSeeAllButton.react","MessageRequestsBulkActionEditFalcoEvent","MessageRequestsBulkActionsContext.react","fbicon","focusScopeQueries","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useContext;function a(a,b){var e=k(c("MessageRequestsBulkActionsContext.react")),f=e.isBulkActionsEditMode,g=e.setIsBulkActionsEditMode;e=[j.jsx(c("MWJewelDropdownHeaderSeeAllButton.react"),{onClose:a.onClose,testid:void 0,url:a.url}),j.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,id:"mwb-jewel-bulk-actions-edit-button",children:j.jsx("div",{"aria-controls":"message-requests-bulk-actions-buttons","aria-expanded":f,ref:b,children:j.jsx(c("CometCircleButton.react"),{icon:d("fbicon")._(i("477825"),16),label:h._("__JHASH__2p3QPbHcOQO__JHASH__"),onPress:function(){g(!f),c("MessageRequestsBulkActionEditFalcoEvent").log(function(){return{action:11,actioned_thread_count:"0",actioned_unread_thread_count:"0",entry_point:4,folder:a.url==="/messages/requests/"?-1:-3}})},size:32,type:f?"deemphasized-overlay":"normal"})})})];b=a.url==="/messages/requests/"?"mwb-jewel-message-requests-title":"mwb-jewel-spam-title";return j.jsx(c("CometTopNavListDropdown.react").Title,{actions:e,onReturn:function(){g(!1),a.onReturn()},testid:void 0,title:a.title})}a.displayName=a.name+" [from "+f.id+"]";b=j.forwardRef(a);g["default"]=b}),98);
__d("MAWJewelMessageRequestsAndSpamDropdownWithTab.react",["fbt","CometEntityHeaderTabs.react","CometHeroInteractionWithDiv.react","CometTopNavListDropdown.react","LsSystemFolderInterop.re","MAWGating.re","MAWJobDefinitions","MAWUIJob","MWJewelMessageRequestsDropdownHeader.react","MWJewelMessengerLink.react","MWLSJewelLoadMoreThreads.bs","MWThreadList.re","MessageRequestsBulkActionsButtons.re","MessageRequestsBulkActionsContext.react","MessageRequestsViewThreadlistFalcoEvent","TetraText.react","XCometMessageRequestsControllerRouteBuilder","XCometMessengerControllerRouteBuilder","promiseDone","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useContext,k=b.useEffect,l=b.useRef,m=b.useState,n={container:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x10wlt62"},infoBox:{backgroundColor:"xmjcpbm",marginTop:"x1k70j0n",marginEnd:"x11i5rnm",marginBottom:"xzueoph",marginStart:"x1mh8g0r",paddingTop:"xz9dl7a",paddingEnd:"x14uny0o",paddingBottom:"xsag5q8",paddingStart:"xvpee5o"}},o=h._("__JHASH__DXrX-aIvzqd__JHASH__"),p=[{label:h._("__JHASH__bUDoyXheqLY__JHASH__")},{label:h._("__JHASH__LZ2WqyQcdfM__JHASH__")}];function a(a){var b=j(c("MessageRequestsBulkActionsContext.react")),e=b.setIsBulkActionsEditMode,f=i.createRef(),g=l(null),q=l(null);k(function(){var a=function(a){var b;a=a.target;a instanceof Node&&!((b=f.current)==null?void 0:b.contains(a))&&!((b=g.current)==null?void 0:b.contains(a))&&!((b=q.current)==null?void 0:b.contains(a))&&e(!1)};document.addEventListener("click",a,!0);return function(){document.removeEventListener("click",a,!0)}},[q,f,g,e]);var r=[c("XCometMessageRequestsControllerRouteBuilder").buildExtraURL("/messages/requests/",{}),c("XCometMessengerControllerRouteBuilder").buildExtraURL("/messages/filtered/",{})];b=m(0);var s=b[0],t=b[1];b=m(r[0]);var u=b[0],v=b[1];b=m(!1);var w=b[0];b=b[1];var x=d("MWLSJewelLoadMoreThreads.bs").useLoadSpamThreads(),y=p.map(function(a,b){return babelHelpers["extends"]({},a,{onPress:function(){t(b),v(r[b]),b===1&&(x(),d("MAWGating.re").isArmadillo()&&d("MAWGating.re").wellBeingFeaturesEnabled()&&c("promiseDone")(d("MAWUIJob").UIJobStarters.waitUntilPersisted(d("MAWJobDefinitions").jobSerializers.getSpams())),c("MessageRequestsViewThreadlistFalcoEvent").log(function(){return{action:0,actioned_thread_count:"0",actioned_unread_thread_count:"0",entry_point:4,folder:-3}})),e(!1)},selected:s===b})});y=i.jsxs(i.Fragment,{children:[i.jsx(c("MWJewelMessageRequestsDropdownHeader.react"),{onClose:a.onClose,onReturn:a.onReturn,ref:f,title:o,url:u}),i.jsx(c("CometEntityHeaderTabs.react"),{tabs:y}),w?null:i.jsx("div",{className:c("stylex")(n.infoBox),children:i.jsx(c("TetraText.react"),{color:"secondary",type:"body4",children:h._("__JHASH__--hNJpdtmL4__JHASH__")})})]});w=[i.jsx(d("MWThreadList.re").make,{gridLabel:"Requests",header:y,lsEntryPoint:"pendingRequests",onClose:a.onClose,parentThreadKey:d("LsSystemFolderInterop.re").pending,responsive:!1,setIsEmptyInbox:b},"requests"),i.jsx(d("MWThreadList.re").make,{gridLabel:"Spam",header:y,lsEntryPoint:"jewel",onClose:a.onClose,parentThreadKey:d("LsSystemFolderInterop.re").other,responsive:!1,setIsEmptyInbox:b},"spam")];return i.jsxs(c("CometTopNavListDropdown.react").Card,{useMaxHeight:!0,children:[i.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"MessageRequestsThreadList",interactionUUID:a.interactionID,xstyle:n.container,children:i.jsxs("div",{className:c("stylex")(n.container),ref:g,children:[" ",w[s]," "]})}),c("MessageRequestsBulkActionsButtons.re")?i.jsx("div",{ref:q,children:i.jsx(c("MessageRequestsBulkActionsButtons.re").make,{entryPoint:s===0?"messageRequests":"spam"})}):null,i.jsx(c("MWJewelMessengerLink.react"),{onClick:a.onClose,url:u})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometVideoHomeLanceletHostedRoot.entrypoint",["CometSinglePageChannelTabRoot.entrypoint","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{entryPoints:{pageEntryPoint:{entryPoint:b("CometSinglePageChannelTabRoot.entrypoint"),entryPointParams:a}},extraProps:a}},root:c("JSResourceForInteraction")("CometVideoHomeLanceletHostedRoot.react").__setRef("CometVideoHomeLanceletHostedRoot.entrypoint")};g["default"]=a}),98);
__d("BillingRowContext",["react"],(function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");c=a.createContext({columnSpacing:0});e.exports=c}),null);/*FB_PKG_DELIM*/
__d("LSOptimisticDeleteThread",["LSDeleteThread","LSIssueNewError","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(d){return c.sp(b("LSDeleteThread"),a[0],!1)},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=[0,1]:(b=a.item,d[7]=b.syncGroup,c.i64.neq(d[7],f)?d[6]=d[7]:d[6]=[0,1],d[0]=d[6])})},function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=!1:(b=a.item,d[2]=b.errorShouldBeShown)})},function(a){return d[2]===!0?(d[6]=c.localizeV2([0,2285622730],f),d[7]=c.localizeV2([0,1919524925],f),c.sp(b("LSIssueNewError"),f,[0,1545093],d[6],d[7],f)):c.resolve()},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("sync_group",d[0]),d[5]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),"delete_thread_v2",[0,86],d[5],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("MessageRequestsBulkActionsButtons.bs",["fbt","FocusRegion.react","LS.bs","LSOptimisticDeleteThread","LSOptimisticMarkThreadReadV2","LSTransaction.bs","LsMessageRequestsActions.bs","LsMessageRequestsEntryPoint.bs","LsSystemFolder.bs","MessageRequestsBulkActionsContext.react","MessageRequestsLog.bs","ReQL.bs","ServerTime","TetraButtonGroup.react","bs_caml_format","bs_caml_int64","bs_curry","focusScopeQueries","promiseDone","react","useCometConfirmationDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a,c){return i.useCallback(function(c){c.forEach(function(c){var d=b("bs_caml_format").caml_int64_of_string(c);b("promiseDone")(b("LSTransaction.bs").run(a,function(c){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("threads")),{hd:d,tl:0})).then(function(a){return b("LSOptimisticMarkThreadReadV2")(d,b("bs_caml_int64").of_float(b("ServerTime").getMillis()),b("LS.bs").make(c))})},"readWrite"),void 0,void 0)})},[c,a])}function k(a,c){return i.useCallback(function(c){c.forEach(function(c){var d=b("bs_caml_format").caml_int64_of_string(c);b("promiseDone")(b("LSTransaction.bs").run(a,function(a){return b("LSOptimisticDeleteThread")(d,b("LS.bs").make(a))},"readWrite"),void 0,void 0)})},[c,a])}function a(a){a=a.entryPoint;var c=a!==void 0?a:"messageRequests";a=i.useContext(b("MessageRequestsBulkActionsContext.react"));var d=a.setIsBulkActionsEditMode,e=a.bulkActionsUnreadSelectedThreads,f=a.bulkActionsSelectedThreads,h=b("useReStore")(),l=j(h,f),m=k(h,f),n=b("useCometConfirmationDialog")();h=i.useCallback(function(a){b("bs_curry")._1(l,f);b("bs_curry")._1(d,!1);return b("MessageRequestsLog.bs").logMessageRequestsBulkActionTapped(b("bs_caml_int64").to_int32(b("LsMessageRequestsEntryPoint.bs").settings),f.size,e.size,b("bs_caml_int64").to_int32(b("LsMessageRequestsActions.bs").bulkMarkAsRead),c==="spam"?b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").spam):b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").pending))});var o=i.useCallback(function(a){b("MessageRequestsLog.bs").logMessageRequestsBulkActionTapped(b("bs_caml_int64").to_int32(b("LsMessageRequestsEntryPoint.bs").settings),f.size,e.size,b("bs_caml_int64").to_int32(b("LsMessageRequestsActions.bs").bulkDelete),c==="spam"?b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").spam):b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").pending));return b("bs_curry")._3(n,{body:f.size===1?g._("__JHASH__MLd3xbTafSI__JHASH__"):g._("__JHASH__sZbvz5cEYff__JHASH__"),confirm:g._("__JHASH___y3IAprClSl__JHASH__"),title:f.size===1?g._("__JHASH__zdCU4WfWx_J__JHASH__"):g._("__JHASH__6Kbu-lnpMhp__JHASH__",[g._param("Number of selected threads",String(f.size))])},function(a){b("bs_curry")._1(m,f);b("bs_curry")._1(d,!1);b("FocusRegion.react").focusRegionById("mwb-jewel-bulk-actions-edit-button",b("focusScopeQueries").tabbableScopeQuery);return b("MessageRequestsLog.bs").logMessageRequestsBulkActionConfirmed(b("bs_caml_int64").to_int32(b("LsMessageRequestsEntryPoint.bs").settings),f.size,e.size,b("bs_caml_int64").to_int32(b("LsMessageRequestsActions.bs").bulkDelete),c==="spam"?b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").spam):b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").pending))},function(a){})});return i.jsx("div",{className:a.isBulkActionsEditMode?"xsag5q8":"x1s85apg",id:c==="spam"?"spam-bulk-actions-buttons":"message-requests-bulk-actions-buttons",children:i.jsx(b("FocusRegion.react").FocusRegion,{autoFocusQuery:b("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,children:i.jsx(b("TetraButtonGroup.react"),{primary:{label:g._("__JHASH__pC0i0CAW1ov__JHASH__").toString(),type:"secondary",onPress:h,testid:c==="spam"?"spam-bulk-mark-as-read-button":"message-requests-bulk-mark-as-read-button",disabled:f.size===0||e.size===0},secondary:{label:g._("__JHASH___y3IAprClSl__JHASH__"),onPress:o,disabled:f.size===0,testid:c==="spam"?"spam-bulk-delete-button":"message-requests-bulk-delete-button"},direction:"forward",align:"justify"})})})}c=a;f.make=c}),null);
__d("MWInboxMessageRequestsRoot.bs",["BootloaderResource","CometHeroInteractionWithDiv.react","JSResource","LsSystemFolder.bs","MessageRequestsBulkActionsButtons.bs","MessageRequestsBulkActionsContextProvider.react","bs_caml_option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("JSResource")("MAWRequestAndSpamThreadListPage.bs").__setRef("MWInboxMessageRequestsRoot.bs");function j(a,c,d,e,f){f={parentThreadKey:c,entryPoint:d};a!==void 0&&(f.hidePage=b("bs_caml_option").valFromOption(a));e!==void 0&&(f.showBackButton=b("bs_caml_option").valFromOption(e));return f}function k(a){return h.createElement(b("BootloaderResource").read(i).make,a)}c={reasonResource:i,makeProps:j,make:k};var l={container:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x10wlt62"}};function a(a){var c=a.hidePage;a=a.interactionID;a=a!==void 0?a:"";return h.jsxs(b("MessageRequestsBulkActionsContextProvider.react"),{children:[h.jsx(b("CometHeroInteractionWithDiv.react"),{children:h.jsx(k,j(c,b("LsSystemFolder.bs").pending,"inboxPendingRequests",void 0,void 0)),interactionUUID:a,interactionDesc:"FETCH_MESSAGE_REQUESTS",pageletName:"MessageRequestsThreadList",excludeFromMainVC:!0,xstyle:l.container}),h.jsx(b("MessageRequestsBulkActionsButtons.bs").make,{})]})}d=a;f.LazyMAWRequestAndSpamThreadListPage=c;f.styles=l;f.make=d}),null);/*FB_PKG_DELIM*/
__d("MessengerDesktopPromoFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744027");c=b("FalcoLoggerInternal").create("messenger_desktop_promo",a);e.exports=c}),null);
__d("MessengerDesktopPromoEventLogger",["MessengerDesktopPromoFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return c("MessengerDesktopPromoFalcoEvent").log(function(){return a})};g.log=a}),98);
__d("XCometRestrictedAccountsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/restricted/t/{thread_key}/",Object.freeze({}),["/messages/restricted/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/restricted/t/{thread_key}/",Object.freeze({}),["/restricted/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxRestrictedAccountsRouteBuilder.bs",["CurrentEnvironment","XCometRestrictedAccountsControllerRouteBuilder","XMessengerDotComCometRestrictedAccountsControllerRouteBuilder"],(function(a,b,c,d,e,f){"use strict";a=b("CurrentEnvironment").facebookdotcom?{buildURL:function(a){return b("XCometRestrictedAccountsControllerRouteBuilder").buildURL(a)},buildURLWithoutThread:function(a){return b("XCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/messages/restricted/",a)}}:{buildURL:function(a){return b("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder").buildURL(a)},buildURLWithoutThread:function(a){return b("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/restricted/",a)}};c=a.buildURL;d=a.buildURLWithoutThread;f.routeBuilderModule=a;f.buildURL=c;f.buildURLWithoutThread=d}),null);
__d("LsMessageRequestsEntryPoint.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5];f.settings=a;f.pendingRequests=c;f.notifications=d;f.chatTabSettings=e;f.chatTabPendingRequests=b;f.inboxFolderList=g}),null);
__d("XMessengerDotComDesktopControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/desktop/",Object.freeze({start_download:!1,m:!1}),new Set(["m"]));b=a;g["default"]=b}),98);